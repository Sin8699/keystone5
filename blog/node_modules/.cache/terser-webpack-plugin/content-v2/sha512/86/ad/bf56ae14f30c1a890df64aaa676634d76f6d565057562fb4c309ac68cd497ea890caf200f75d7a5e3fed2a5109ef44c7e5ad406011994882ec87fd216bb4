{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{586:function(e,t,n){e.exports=n(587)},587:function(e,t,n){\"use strict\";n.r(t);var r=n(50);n.d(t,\"ListProvider\",function(){return r.a}),n.d(t,\"useList\",function(){return r.b})},612:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",function(){return D});var r=n(7),o=n(1),c=n(0),i=n(34),a=n(57),u=n.n(a),l=n(93),f=n(13),s=n(2),b=n(12),d=n(62),p=n.n(d),O=n(424),y=n(586);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return!t||\"object\"!=typeof t&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}([\"\\n    query User {\\n      \",\" {\\n        _label_\\n        id\\n      }\\n    }\\n  \"]);return P=function(){return e},e}var C=100;function _(e){var t=e.listKey,n=e.value,c=e.onAddUser,a=e.many,l=\"authenticated\"+t,d=Object(i.b)(u()(P(),l)).data;if(d&&d[l]){var O=d[l].id;if(null!==n&&(a?n.some(function(e){return e.id===O}):n.id===O))return null;var y=\"\".concat(a?\"Add\":\"Set as\",\" \").concat(d[l]._label_);return Object(o.c)(p.a,{placement:\"top\",content:y},function(e){return Object(o.c)(b.IconButton,{css:Object(r.a)({marginLeft:s.gridSize},\"\"),variant:\"ghost\",ref:e,onClick:function(){c(d[l])},icon:f.PersonIcon,\"aria-label\":y})})}return null}function I(e){var t,n=e.field,c=e.value,i=n.config,a=i.many,u=i.ref,l=n.adminMeta,d=l.adminPath,O=(0,l.getListByKey)(u),y=!1,g=\"\".concat(d,\"/\").concat(O.path);return a?(t=\"View List of Related Items\",c.length||(y=!0),g=\"\".concat(g,'?!id_in=\"').concat(c.slice(0,C).map(function(e){return e.id}).join(\",\"),'\"')):(t=\"View Item Details\",c?g=\"\".concat(g,\"/\").concat(c.id):y=!0),Object(o.c)(p.a,{placement:\"top\",content:t},function(e){return Object(o.c)(b.IconButton,{ref:e,icon:f.LinkExternalIcon,\"aria-label\":t,variant:\"ghost\",css:Object(r.a)({marginLeft:s.gridSize},\"\"),target:\"_blank\",to:g,isDisabled:y})})}function L(e){var t,n=e.field,i=e.item,a=e.onCreate,u=e.CreateItemModal,l=Object(y.useList)(),d=l.list,O=l.openCreateItemModal,g=n.adminMeta.getListByKey(n.config.ref),j=\"Create and add \".concat(g.singular);return i&&i.id&&(t=g.fields.filter(function(e){return\"Relationship\"===e.type&&e.config.ref===d.key&&e.config.refFieldPath===n.path}).reduce(function(e,t){var n={_label_:i._label_||\"<link to parent>\",id:i.id};return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,w({},t.path,t.config.many?[n]:n))},{})),Object(o.c)(c.Fragment,null,Object(o.c)(p.a,{placement:\"top\",content:j},function(e){return Object(o.c)(b.IconButton,{ref:e,onClick:O,icon:f.PlusIcon,\"aria-label\":j,variant:\"ghost\",css:Object(r.a)({marginLeft:s.gridSize},\"\")})}),Object(o.c)(u,{prefillData:t,onCreate:function(e){var t=e.data;a(t[g.gqlNames.createMutationName])}}))}var k={name:\"1rr4qq7\",styles:\"flex:1;\"},D=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=j(this,(e=m(t)).call.apply(e,[this].concat(o)))).onChange=function(e){var t=n.props,r=t.field,o=t.onChange;o(r.config.many?e?e.map(function(e){return e.value}):[]:e?e.value:null)},n}var n,r,i;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,c[\"Component\"]),n=t,(r=[{key:\"render\",value:function(){var e=this.props,t=e.autoFocus,n=e.field,r=e.value,c=e.renderContext,i=e.errors,a=e.onChange,u=e.item,f=e.list,s=e.CreateItemModal,b=n.config,d=b.many,p=b.ref,g=n.adminMeta.authStrategy,j=\"ks-input-\".concat(n.path),m=n.adminMeta.getListByKey(n.config.ref);return Object(o.c)(l.FieldContainer,null,Object(o.c)(l.FieldLabel,{htmlFor:j,field:n,errors:i}),n.config.adminDoc&&Object(o.c)(l.FieldDescription,null,n.config.adminDoc),Object(o.c)(l.FieldInput,null,Object(o.c)(\"div\",{css:k},Object(o.c)(O.a,{autoFocus:t,isMulti:d,field:n,value:r,errors:i,renderContext:c,htmlID:j,onChange:this.onChange})),Object(o.c)(y.ListProvider,{list:m},Object(o.c)(L,{onCreate:function(e){a(d?(r||[]).concat(e):e)},field:n,item:u,list:f,CreateItemModal:s})),g&&p===g.listKey&&Object(o.c)(_,{many:d,onAddUser:function(e){a(d?(r||[]).concat(e):e)},value:r,listKey:g.listKey}),Object(o.c)(I,{field:n,value:r})))}}])&&g(n.prototype,r),i&&g(n,i),t}()}}]);","extractedComments":[]}